// RISC-V ISA generated header
// Auto-generated from YAML definitions - DO NOT EDIT DIRECTLY
// Generated by generate_cpp.py

#pragma once

#include <cstdint>
#include <string_view>
#include "riscv_isa.h"

namespace shader_system {

/**
 * @brief RISC-V instruction metadata.
 */
struct RiscvInstructionMetadata {
    std::string_view mnemonic;          // Instruction mnemonic (e.g., "add")
    RiscvOpcode opcode;                 // Opcode value
    RiscvFunct3 funct3;                 // Function 3 value (if applicable)
    RiscvFunct7 funct7;                 // Function 7 value (if applicable)
    RiscvInstructionType type;          // Instruction type
    bool has_immediate;                 // Whether instruction has immediate
    uint8_t imm_bits;                   // Immediate bit width (0 if none)
    bool imm_signed;                    // Whether immediate is signed
    uint8_t imm_align;                  // Immediate alignment requirement (1=no alignment)
};

/**
 * @brief Get instruction metadata by opcode, funct3, and funct7.
 *
 * @param opcode Instruction opcode.
 * @param funct3 Function 3 field (0 if not applicable).
 * @param funct7 Function 7 field (0 if not applicable).
 * @return const RiscvInstructionMetadata* Pointer to metadata, or nullptr if not found.
 */
const RiscvInstructionMetadata* getInstructionMetadata(
    RiscvOpcode opcode, RiscvFunct3 funct3, RiscvFunct7 funct7);

/**
 * @brief Get instruction metadata by mnemonic.
 *
 * @param mnemonic Instruction mnemonic (e.g., "add").
 * @return const RiscvInstructionMetadata* Pointer to metadata, or nullptr if not found.
 */
const RiscvInstructionMetadata* getInstructionMetadata(std::string_view mnemonic);

/**
 * @brief Total number of defined instructions.
 */
constexpr size_t RISCV_INSTRUCTION_COUNT = 39;

/**
 * @brief Array of all instruction metadata.
 */
extern const RiscvInstructionMetadata RISCV_INSTRUCTION_TABLE[RISCV_INSTRUCTION_COUNT];

} // namespace shader_system
