// RISC-V ISA generated source
// Auto-generated from YAML definitions - DO NOT EDIT DIRECTLY
// Generated by generate_cpp.py

#include "riscv_isa_generated.h"

namespace shader_system {

const RiscvInstructionMetadata RISCV_INSTRUCTION_TABLE[RISCV_INSTRUCTION_COUNT] = {
    {"add", static_cast<RiscvOpcode>(51), static_cast<RiscvFunct3>(0), static_cast<RiscvFunct7>(0), RiscvInstructionType::R_TYPE, false, 0, false, 1},
    {"sub", static_cast<RiscvOpcode>(51), static_cast<RiscvFunct3>(0), static_cast<RiscvFunct7>(32), RiscvInstructionType::R_TYPE, false, 0, false, 1},
    {"xor", static_cast<RiscvOpcode>(51), static_cast<RiscvFunct3>(4), static_cast<RiscvFunct7>(0), RiscvInstructionType::R_TYPE, false, 0, false, 1},
    {"or", static_cast<RiscvOpcode>(51), static_cast<RiscvFunct3>(6), static_cast<RiscvFunct7>(0), RiscvInstructionType::R_TYPE, false, 0, false, 1},
    {"and", static_cast<RiscvOpcode>(51), static_cast<RiscvFunct3>(7), static_cast<RiscvFunct7>(0), RiscvInstructionType::R_TYPE, false, 0, false, 1},
    {"sll", static_cast<RiscvOpcode>(51), static_cast<RiscvFunct3>(1), static_cast<RiscvFunct7>(0), RiscvInstructionType::R_TYPE, false, 0, false, 1},
    {"srl", static_cast<RiscvOpcode>(51), static_cast<RiscvFunct3>(5), static_cast<RiscvFunct7>(0), RiscvInstructionType::R_TYPE, false, 0, false, 1},
    {"sra", static_cast<RiscvOpcode>(51), static_cast<RiscvFunct3>(5), static_cast<RiscvFunct7>(32), RiscvInstructionType::R_TYPE, false, 0, false, 1},
    {"slt", static_cast<RiscvOpcode>(51), static_cast<RiscvFunct3>(2), static_cast<RiscvFunct7>(0), RiscvInstructionType::R_TYPE, false, 0, false, 1},
    {"sltu", static_cast<RiscvOpcode>(51), static_cast<RiscvFunct3>(3), static_cast<RiscvFunct7>(0), RiscvInstructionType::R_TYPE, false, 0, false, 1},
    {"addi", static_cast<RiscvOpcode>(19), static_cast<RiscvFunct3>(0), static_cast<RiscvFunct7>(0), RiscvInstructionType::I_TYPE, true, 12, true, 1},
    {"xori", static_cast<RiscvOpcode>(19), static_cast<RiscvFunct3>(4), static_cast<RiscvFunct7>(0), RiscvInstructionType::I_TYPE, true, 12, false, 1},
    {"ori", static_cast<RiscvOpcode>(19), static_cast<RiscvFunct3>(6), static_cast<RiscvFunct7>(0), RiscvInstructionType::I_TYPE, true, 12, false, 1},
    {"andi", static_cast<RiscvOpcode>(19), static_cast<RiscvFunct3>(7), static_cast<RiscvFunct7>(0), RiscvInstructionType::I_TYPE, true, 12, false, 1},
    {"slli", static_cast<RiscvOpcode>(19), static_cast<RiscvFunct3>(1), static_cast<RiscvFunct7>(0), RiscvInstructionType::I_TYPE, true, 5, false, 1},
    {"srli", static_cast<RiscvOpcode>(19), static_cast<RiscvFunct3>(5), static_cast<RiscvFunct7>(0), RiscvInstructionType::I_TYPE, true, 5, false, 1},
    {"srai", static_cast<RiscvOpcode>(19), static_cast<RiscvFunct3>(5), static_cast<RiscvFunct7>(32), RiscvInstructionType::I_TYPE, true, 5, false, 1},
    {"slti", static_cast<RiscvOpcode>(19), static_cast<RiscvFunct3>(2), static_cast<RiscvFunct7>(0), RiscvInstructionType::I_TYPE, true, 12, true, 1},
    {"sltiu", static_cast<RiscvOpcode>(19), static_cast<RiscvFunct3>(3), static_cast<RiscvFunct7>(0), RiscvInstructionType::I_TYPE, true, 12, false, 1},
    {"lb", static_cast<RiscvOpcode>(3), static_cast<RiscvFunct3>(0), static_cast<RiscvFunct7>(0), RiscvInstructionType::I_TYPE, true, 12, true, 1},
    {"lh", static_cast<RiscvOpcode>(3), static_cast<RiscvFunct3>(1), static_cast<RiscvFunct7>(0), RiscvInstructionType::I_TYPE, true, 12, true, 1},
    {"lw", static_cast<RiscvOpcode>(3), static_cast<RiscvFunct3>(2), static_cast<RiscvFunct7>(0), RiscvInstructionType::I_TYPE, true, 12, true, 1},
    {"lbu", static_cast<RiscvOpcode>(3), static_cast<RiscvFunct3>(4), static_cast<RiscvFunct7>(0), RiscvInstructionType::I_TYPE, true, 12, false, 1},
    {"lhu", static_cast<RiscvOpcode>(3), static_cast<RiscvFunct3>(5), static_cast<RiscvFunct7>(0), RiscvInstructionType::I_TYPE, true, 12, false, 1},
    {"jalr", static_cast<RiscvOpcode>(103), static_cast<RiscvFunct3>(0), static_cast<RiscvFunct7>(0), RiscvInstructionType::I_TYPE, true, 12, true, 1},
    {"sb", static_cast<RiscvOpcode>(35), static_cast<RiscvFunct3>(0), static_cast<RiscvFunct7>(0), RiscvInstructionType::S_TYPE, true, 12, true, 1},
    {"sh", static_cast<RiscvOpcode>(35), static_cast<RiscvFunct3>(1), static_cast<RiscvFunct7>(0), RiscvInstructionType::S_TYPE, true, 12, true, 1},
    {"sw", static_cast<RiscvOpcode>(35), static_cast<RiscvFunct3>(2), static_cast<RiscvFunct7>(0), RiscvInstructionType::S_TYPE, true, 12, true, 1},
    {"beq", static_cast<RiscvOpcode>(99), static_cast<RiscvFunct3>(0), static_cast<RiscvFunct7>(0), RiscvInstructionType::B_TYPE, true, 13, true, 2},
    {"bne", static_cast<RiscvOpcode>(99), static_cast<RiscvFunct3>(1), static_cast<RiscvFunct7>(0), RiscvInstructionType::B_TYPE, true, 13, true, 2},
    {"blt", static_cast<RiscvOpcode>(99), static_cast<RiscvFunct3>(4), static_cast<RiscvFunct7>(0), RiscvInstructionType::B_TYPE, true, 13, true, 2},
    {"bge", static_cast<RiscvOpcode>(99), static_cast<RiscvFunct3>(5), static_cast<RiscvFunct7>(0), RiscvInstructionType::B_TYPE, true, 13, true, 2},
    {"bltu", static_cast<RiscvOpcode>(99), static_cast<RiscvFunct3>(6), static_cast<RiscvFunct7>(0), RiscvInstructionType::B_TYPE, true, 13, true, 2},
    {"bgeu", static_cast<RiscvOpcode>(99), static_cast<RiscvFunct3>(7), static_cast<RiscvFunct7>(0), RiscvInstructionType::B_TYPE, true, 13, true, 2},
    {"lui", static_cast<RiscvOpcode>(55), static_cast<RiscvFunct3>(0), static_cast<RiscvFunct7>(0), RiscvInstructionType::U_TYPE, true, 20, false, 1},
    {"auipc", static_cast<RiscvOpcode>(23), static_cast<RiscvFunct3>(0), static_cast<RiscvFunct7>(0), RiscvInstructionType::U_TYPE, true, 20, false, 1},
    {"jal", static_cast<RiscvOpcode>(111), static_cast<RiscvFunct3>(0), static_cast<RiscvFunct7>(0), RiscvInstructionType::J_TYPE, true, 21, true, 2},
    {"ecall", static_cast<RiscvOpcode>(115), static_cast<RiscvFunct3>(0), static_cast<RiscvFunct7>(0), RiscvInstructionType::I_TYPE, false, 0, false, 1},
    {"ebreak", static_cast<RiscvOpcode>(115), static_cast<RiscvFunct3>(0), static_cast<RiscvFunct7>(32), RiscvInstructionType::I_TYPE, false, 0, false, 1}
};


// Helper function to compare enum values with metadata
static bool matches_metadata(const RiscvInstructionMetadata& meta,
                             RiscvOpcode opcode, RiscvFunct3 funct3, RiscvFunct7 funct7) {
    return meta.opcode == opcode &&
           (meta.funct3 == funct3 || meta.funct3 == static_cast<RiscvFunct3>(0)) &&
           (meta.funct7 == funct7 || meta.funct7 == static_cast<RiscvFunct7>(0));
}

const RiscvInstructionMetadata* getInstructionMetadata(
    RiscvOpcode opcode, RiscvFunct3 funct3, RiscvFunct7 funct7) {

    for (size_t i = 0; i < RISCV_INSTRUCTION_COUNT; ++i) {
        if (matches_metadata(RISCV_INSTRUCTION_TABLE[i], opcode, funct3, funct7)) {
            return &RISCV_INSTRUCTION_TABLE[i];
        }
    }
    return nullptr;
}

const RiscvInstructionMetadata* getInstructionMetadata(std::string_view mnemonic) {
    for (size_t i = 0; i < RISCV_INSTRUCTION_COUNT; ++i) {
        if (RISCV_INSTRUCTION_TABLE[i].mnemonic == mnemonic) {
            return &RISCV_INSTRUCTION_TABLE[i];
        }
    }
    return nullptr;
}


} // namespace shader_system
